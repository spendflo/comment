{
  "version": 3,
  "sources": ["scripts/extract-demo-apps-to-sandpack-file-object.ts"],
  "sourcesContent": ["#!/usr/bin/env -S node --enable-source-maps\n\nimport { writeFileSync, readFileSync, statSync, readdirSync } from 'fs';\nimport path from 'path';\nimport url from 'url';\nimport * as prettier from 'prettier';\n\n// Looks into sample-apps to generate an object to pass into Sandpack for new site\n// Ignores unnecessary folders, file\n// Does not handle image files correctly for now\n\nconst demoNames = [\n  'canvas-new',\n  'document',\n  'dashboard',\n  'video-player',\n] as const;\n\ntype demoNamesType = (typeof demoNames)[number];\n\nconst getFilesRecursively = (\n  directory: string,\n  result: Record<string, unknown>,\n  demoName: demoNamesType,\n) => {\n  const filesInDirectory = readdirSync(directory);\n\n  const foldersToIgnore = ['node_modules', '_common', 'CORD-playground'];\n  const filesToIgnore = ['.gitignore', '.DS_Store'];\n  const fileTypeToIgnore = ['.png'];\n\n  for (const file of filesInDirectory) {\n    const absolute = path.join(directory, file);\n    const sampleAppDirectoryString = `opensource/sample-apps/${demoName}/`;\n\n    if (statSync(absolute).isDirectory()) {\n      getFilesRecursively(absolute, result, demoName);\n    } else if (\n      foldersToIgnore.some((folder) => absolute.includes(folder)) ||\n      filesToIgnore.some((fileName) => file.includes(fileName)) ||\n      fileTypeToIgnore.some((fileName) => file.endsWith(fileName))\n    ) {\n      continue;\n    } else {\n      const sampleAppStringIndex = absolute.indexOf(sampleAppDirectoryString);\n      const fileDirectory = absolute.slice(\n        sampleAppStringIndex + sampleAppDirectoryString.length,\n      );\n\n      const fileContents = readFileSync(absolute, 'utf-8');\n\n      const cleanedFileContents = fileContents\n        .replaceAll(/(<InformationHeader)[\\s\\S]*?(\\/>)/g, '')\n        .replaceAll(\n          /(import { InformationHeader })[\\s\\S]*?(InformationHeader';)/g,\n          '',\n        );\n\n      result[fileDirectory] = cleanedFileContents;\n    }\n  }\n};\n\nconst main = async () => {\n  const resultObj: Record<string, unknown> = {};\n\n  const opensourcePath = path.join(\n    path.dirname(url.fileURLToPath(import.meta.url)),\n    '../../opensource/sample-apps/',\n  );\n\n  for (const demoName of demoNames) {\n    const demoResult = {};\n    getFilesRecursively(opensourcePath + demoName, demoResult, demoName);\n    resultObj[demoName] = demoResult;\n  }\n\n  const sandpackFileObject = `// @generated by scripts/extract-demo-apps-to-sandpack-file-object.ts\n// npm run extract-demo-apps-to-sandpack-object\n/* eslint-disable */\n\n  export default \n  ${JSON.stringify(resultObj)}\n\n  `;\n\n  const resultFilePath =\n    opensourcePath + '/_common/' + 'sandpackDemoFileObject.ts';\n\n  writeFileSync(\n    resultFilePath,\n    await prettier.format(sandpackFileObject, {\n      filepath: resultFilePath,\n      ...(await prettier.resolveConfig(resultFilePath)),\n    }),\n  );\n};\n\nmain().catch((err) => {\n  console.error(err);\n  process.exit(1);\n});\n"],
  "mappings": ";;;AAEA,SAAS,eAAe,cAAc,UAAU,mBAAmB;AACnE,OAAO,UAAU;AACjB,OAAO,SAAS;AAChB,YAAY,cAAc;AAM1B,IAAM,YAAY;AAAA,EAChB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAIA,IAAM,sBAAsB,CAC1B,WACA,QACA,aACG;AACH,QAAM,mBAAmB,YAAY,SAAS;AAE9C,QAAM,kBAAkB,CAAC,gBAAgB,WAAW,iBAAiB;AACrE,QAAM,gBAAgB,CAAC,cAAc,WAAW;AAChD,QAAM,mBAAmB,CAAC,MAAM;AAEhC,aAAW,QAAQ,kBAAkB;AACnC,UAAM,WAAW,KAAK,KAAK,WAAW,IAAI;AAC1C,UAAM,2BAA2B,0BAA0B,QAAQ;AAEnE,QAAI,SAAS,QAAQ,EAAE,YAAY,GAAG;AACpC,0BAAoB,UAAU,QAAQ,QAAQ;AAAA,IAChD,WACE,gBAAgB,KAAK,CAAC,WAAW,SAAS,SAAS,MAAM,CAAC,KAC1D,cAAc,KAAK,CAAC,aAAa,KAAK,SAAS,QAAQ,CAAC,KACxD,iBAAiB,KAAK,CAAC,aAAa,KAAK,SAAS,QAAQ,CAAC,GAC3D;AACA;AAAA,IACF,OAAO;AACL,YAAM,uBAAuB,SAAS,QAAQ,wBAAwB;AACtE,YAAM,gBAAgB,SAAS;AAAA,QAC7B,uBAAuB,yBAAyB;AAAA,MAClD;AAEA,YAAM,eAAe,aAAa,UAAU,OAAO;AAEnD,YAAM,sBAAsB,aACzB,WAAW,sCAAsC,EAAE,EACnD;AAAA,QACC;AAAA,QACA;AAAA,MACF;AAEF,aAAO,aAAa,IAAI;AAAA,IAC1B;AAAA,EACF;AACF;AAEA,IAAM,OAAO,YAAY;AACvB,QAAM,YAAqC,CAAC;AAE5C,QAAM,iBAAiB,KAAK;AAAA,IAC1B,KAAK,QAAQ,IAAI,cAAc,YAAY,GAAG,CAAC;AAAA,IAC/C;AAAA,EACF;AAEA,aAAW,YAAY,WAAW;AAChC,UAAM,aAAa,CAAC;AACpB,wBAAoB,iBAAiB,UAAU,YAAY,QAAQ;AACnE,cAAU,QAAQ,IAAI;AAAA,EACxB;AAEA,QAAM,qBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA,IAKzB,KAAK,UAAU,SAAS,CAAC;AAAA;AAAA;AAI3B,QAAM,iBACJ,iBAAiB;AAEnB;AAAA,IACE;AAAA,IACA,MAAe,gBAAO,oBAAoB;AAAA,MACxC,UAAU;AAAA,MACV,GAAI,MAAe,uBAAc,cAAc;AAAA,IACjD,CAAC;AAAA,EACH;AACF;AAEA,KAAK,EAAE,MAAM,CAAC,QAAQ;AACpB,UAAQ,MAAM,GAAG;AACjB,UAAQ,KAAK,CAAC;AAChB,CAAC;",
  "names": []
}
