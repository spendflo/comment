System.register(["jotai/vanilla"],function(P){"use strict";var m;return{setters:[function(W){m=W.atom}],execute:function(){P({atomFamily:$,atomWithDefault:Y,atomWithObservable:nt,atomWithReducer:J,atomWithReset:z,atomWithStorage:et,createJSONStorage:R,freezeAtom:q,freezeAtomCreator:B,loadable:rt,selectAtom:F,splitAtom:X,unstable_withStorageValidator:Z,unwrap:ut});const W=P("RESET",Symbol(""));function z(n){const e=m(n,(o,c,a)=>{const r=typeof a=="function"?a(o(e)):a;c(e,r===W?n:r)});return e}function J(n,e){return m(n,function(o,c,a){c(this,e(o(this),a))})}function $(n,e){let o=null;const c=new Map,a=r=>{let t;if(e===void 0)t=c.get(r);else for(const[u,s]of c)if(e(u,r)){t=s;break}if(t!==void 0)if(o!=null&&o(t[1],r))a.remove(r);else return t[0];const i=n(r);return c.set(r,[i,Date.now()]),i};return a.remove=r=>{if(e===void 0)c.delete(r);else for(const[t]of c)if(e(t,r)){c.delete(t);break}},a.setShouldRemove=r=>{if(o=r,!!o)for(const[t,i]of c)o(i[1],t)&&c.delete(t)},a}const I=(n,e,o)=>(e.has(o)?e:e.set(o,n())).get(o),_=new WeakMap,C=(n,e,o,c)=>{const a=I(()=>new WeakMap,_,e),r=I(()=>new WeakMap,a,o);return I(n,r,c)};function F(n,e,o=Object.is){return C(()=>{const c=Symbol(),a=([t,i])=>{if(i===c)return e(t);const u=e(t,i);return o(i,u)?i:u},r=m(t=>{const i=t(r),u=t(n);return u instanceof Promise||i instanceof Promise?Promise.all([u,i]).then(a):a([u,i])});return r.init=c,r},n,e,o)}const L=new WeakMap,K=(n,e)=>(L.has(e)?L:L.set(e,n())).get(e),x=n=>{if(typeof n!="object"||n===null)return;Object.freeze(n);const e=Object.getOwnPropertyNames(n);for(const o of e){const c=n[o];x(c)}return n};function q(n){return K(()=>m(e=>x(e(n)),(e,o,c)=>o(n,c)),n)}function B(n){return(...e)=>{const o=n(...e),c=o.read;return o.read=function(a,r){return x(c.call(this,a,r))},o}}const A=(n,e,o)=>(e.has(o)?e:e.set(o,n())).get(o),G=new WeakMap,H=(n,e,o)=>{const c=A(()=>new WeakMap,G,e);return A(n,c,o)},Q={},V=n=>!!n.write,U=n=>typeof n=="function";function X(n,e){return H(()=>{const o=new WeakMap,c=(t,i)=>{let u=o.get(t);if(u)return u;const s=i&&o.get(i),l=[],f=[];return t.forEach((w,h)=>{const v=e?e(w):h;f[h]=v;const y=s&&s.atomList[s.keyList.indexOf(v)];if(y){l[h]=y;return}const O=p=>{const d=p(a),g=p(n),k=c(g,d==null?void 0:d.arr).keyList.indexOf(v);if(k<0||k>=g.length){const b=t[c(t).keyList.indexOf(v)];if(b)return b;throw new Error("splitAtom: index out of bounds for read")}return g[k]},M=(p,d,g)=>{const k=p(a),b=p(n),S=c(b,k==null?void 0:k.arr).keyList.indexOf(v);if(S<0||S>=b.length)throw new Error("splitAtom: index out of bounds for write");const T=U(g)?g(b[S]):g;Object.is(b[S],T)||d(n,[...b.slice(0,S),T,...b.slice(S+1)])};l[h]=V(n)?m(O,M):m(O)}),s&&s.keyList.length===f.length&&s.keyList.every((w,h)=>w===f[h])?u=s:u={arr:t,atomList:l,keyList:f},o.set(t,u),u},a=m(t=>{const i=t(a),u=t(n);return c(u,i==null?void 0:i.arr)});a.init=void 0;const r=V(n)?m(t=>t(a).atomList,(t,i,u)=>{switch(u.type){case"remove":{const s=t(r).indexOf(u.atom);if(s>=0){const l=t(n);i(n,[...l.slice(0,s),...l.slice(s+1)])}break}case"insert":{const s=u.before?t(r).indexOf(u.before):t(r).length;if(s>=0){const l=t(n);i(n,[...l.slice(0,s),u.value,...l.slice(s)])}break}case"move":{const s=t(r).indexOf(u.atom),l=u.before?t(r).indexOf(u.before):t(r).length;if(s>=0&&l>=0){const f=t(n);s<l?i(n,[...f.slice(0,s),...f.slice(s+1,l),f[s],...f.slice(l)]):i(n,[...f.slice(0,l),f[s],...f.slice(l,s),...f.slice(s+1)])}break}}}):m(t=>t(a).atomList);return r},n,e||Q)}function Y(n){const e=Symbol(),o=m(e),c=m((a,r)=>{const t=a(o);return t!==e?t:n(a,r)},(a,r,t)=>{if(t===W)r(o,e);else if(typeof t=="function"){const i=a(c);r(o,t(i))}else r(o,t)});return c}const j=n=>typeof(n==null?void 0:n.then)=="function";function Z(n){return e=>({...e,getItem:(o,c)=>{const a=t=>n(t)?t:c,r=e.getItem(o,c);return j(r)?r.then(a):a(r)}})}function R(n=()=>{try{return window.localStorage}catch{return}},e){let o,c;const a={getItem:(r,t)=>{var i,u;const s=f=>{if(f=f||"",o!==f){try{c=JSON.parse(f,e==null?void 0:e.reviver)}catch{return t}o=f}return c},l=(u=(i=n())==null?void 0:i.getItem(r))!=null?u:null;return j(l)?l.then(s):s(l)},setItem:(r,t)=>{var i;return(i=n())==null?void 0:i.setItem(r,JSON.stringify(t,e==null?void 0:e.replacer))},removeItem:r=>{var t;return(t=n())==null?void 0:t.removeItem(r)}};return typeof window<"u"&&typeof window.addEventListener=="function"&&window.Storage&&(a.subscribe=(r,t,i)=>{if(!(n()instanceof window.Storage))return()=>{};const u=s=>{if(s.storageArea===n()&&s.key===r){let l;try{l=JSON.parse(s.newValue||"")}catch{l=i}t(l)}};return window.addEventListener("storage",u),()=>{window.removeEventListener("storage",u)}}),a}const tt=R();function et(n,e,o=tt,c){const a=c==null?void 0:c.getOnInit,r=m(a?o.getItem(n,e):e);return r.onMount=t=>{a||t(o.getItem(n,e));let i;return o.subscribe&&(i=o.subscribe(n,t,e)),i},m(t=>t(r),(t,i,u)=>{const s=typeof u=="function"?u(t(r)):u;return s===W?(i(r,e),o.removeItem(n)):s instanceof Promise?s.then(l=>(i(r,l),o.setItem(n,l))):(i(r,s),o.setItem(n,s))})}function nt(n,e){const o=a=>{if("e"in a)throw a.e;return a.d},c=m(a=>{var r;let t=n(a);const i=(r=t[Symbol.observable])==null?void 0:r.call(t);i&&(t=i);let u;const s=()=>new Promise(d=>{u=d}),l=e&&"initialValue"in e?{d:typeof e.initialValue=="function"?e.initialValue():e.initialValue}:s();let f,w;const h=d=>{w=d,u==null||u(d),f==null||f(d)};let v,y;const O=()=>!f,M=()=>{v&&(clearTimeout(y),v.unsubscribe()),v=t.subscribe({next:d=>h({d}),error:d=>h({e:d}),complete:()=>{}}),O()&&e!=null&&e.unstable_timeout&&(y=setTimeout(()=>{v&&(v.unsubscribe(),v=void 0)},e.unstable_timeout))};M();const p=m(w||l);return p.onMount=d=>(f=d,w&&d(w),v?clearTimeout(y):M(),()=>{f=void 0,v&&(v.unsubscribe(),v=void 0)}),[p,t,s,M,O]});return m(a=>{const[r]=a(c),t=a(r);return t instanceof Promise?t.then(o):o(t)},(a,r,t)=>{const[i,u,s,l,f]=a(c);if("next"in u)f()&&(r(i,s()),l()),u.next(t);else throw new Error("observable is not subject")})}const E=new WeakMap,ot=(n,e)=>(E.has(e)?E:E.set(e,n())).get(e),D={state:"loading"};function rt(n){return ot(()=>{const e=new WeakMap,o=m(0),c=m((a,{setSelf:r})=>{a(o);let t;try{t=a(n)}catch(s){return{state:"hasError",error:s}}if(!(t instanceof Promise))return{state:"hasData",data:t};const i=t;return e.get(i)||(e.set(i,D),i.then(s=>{e.set(i,{state:"hasData",data:s})},s=>{e.set(i,{state:"hasError",error:s})}).finally(r),D)},(a,r)=>{r(o,t=>t+1)});return m(a=>a(c))},n)}const N=(n,e,o)=>(e.has(o)?e:e.set(o,n())).get(o),st=new WeakMap,it=(n,e,o)=>{const c=N(()=>new WeakMap,st,e);return N(n,c,o)},at=()=>{};function ut(n,e=at){return it(()=>{const o=new WeakMap,c=new WeakMap,a=m(0),r=m((t,{setSelf:i})=>{t(a);const u=t(r),s=t(n);if(!(s instanceof Promise))return{v:s};if(s===(u==null?void 0:u.p)){if(o.has(s))throw o.get(s);if(c.has(s))return{p:s,v:c.get(s)}}return s!==(u==null?void 0:u.p)&&s.then(l=>c.set(s,l),l=>o.set(s,l)).finally(i),u&&"v"in u?{p:s,f:e(u.v),v:u.v}:{p:s,f:e()}},(t,i)=>{i(a,u=>u+1)});return r.init=void 0,m(t=>{const i=t(r);return"f"in i?i.f:i.v},(t,i,...u)=>i(n,...u))},n,e)}}}});
